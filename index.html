<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ëª¨ë°”ì¼ ëª…í•¨</title>

<style>
body { font-family: Arial, sans-serif; background:#f5f6f8; margin:0; }
.container { max-width:420px; margin:auto; padding:16px; }
.card-image { width:100%; border-radius:12px; }
.actions { display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:20px; }
.action-btn {
  padding:14px;
  background:#2F3A8F;
  color:#fff;
  text-align:center;
  border-radius:10px;
  text-decoration:none;
}
footer { text-align:center; font-size:12px; color:#999; margin-top:24px; }
</style>
</head>

<body>
<div class="container">

<img id="cardImage" class="card-image">

<div class="actions">
  <a id="callBtn" class="action-btn">ğŸ“ ì „í™”</a>
  <a id="smsBtn" class="action-btn">ğŸ’¬ ë¬¸ì</a>
  <a id="mailBtn" class="action-btn">âœ‰ï¸ ì´ë©”ì¼</a>
  <a id="saveBtn" class="action-btn">ğŸ“‡ ì—°ë½ì²˜ ì €ì¥</a>
</div>

<footer>NFC Mobile Card Â· í•œêµ­ë„ë¡œê³µì‚¬ì„œë¹„ìŠ¤</footer>
</div>

<script src="js/contact-save.js"></script>

<script>
async function loadCard() {
  const params = new URLSearchParams(window.location.search);
  const id = params.get("id");

  if (!id) {
    document.body.innerHTML = "<h2 style='text-align:center'>ì˜ëª»ëœ ì ‘ê·¼ì…ë‹ˆë‹¤.</h2>";
    return;
  }

  const response = await fetch("data.json");
  const data = await response.json();

  const person = data[id];

  if (!person) {
    document.body.innerHTML = "<h2 style='text-align:center'>ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì‚¬ìš©ìì…ë‹ˆë‹¤.</h2>";
    return;
  }

  document.title = person.name + " ëª¨ë°”ì¼ ëª…í•¨";
  document.getElementById("cardImage").src = "images/" + person.image;
  document.getElementById("callBtn").href = "tel:" + person.phone;
  document.getElementById("smsBtn").href = "sms:" + person.phone;
  document.getElementById("mailBtn").href = "mailto:" + person.email;

  document.getElementById("saveBtn").onclick = function() {
    saveContact(person.name, person.phone);
  };
}

loadCard();
</script>

</body>
</html>
